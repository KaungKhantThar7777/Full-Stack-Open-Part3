{"version":3,"sources":["components/Filter.js","components/Notification.js","components/PersonForm.js","components/Persons.js","services/phonebook.js","App.js","index.js"],"names":["Filter","value","handleChange","onChange","Notification","color","message","style","padding","backgroundColor","border","PersonForm","name","handleNameChange","phone","handlePhoneChange","handleSubmit","onSubmit","type","Persons","persons","deleteUser","map","id","number","key","onClick","window","confirm","handleDelete","baseUrl","axios","get","newPerson","post","delete","updatePerson","put","App","useState","setPersons","newName","setNewName","newPhone","setNewPhone","filter","setFilter","notification","setNotification","React","useEffect","phonebook","then","data","personsToShow","person","toLowerCase","includes","e","target","preventDefault","isAlreadyExist","find","p","catch","err","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8LAUeA,EARA,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,MAAOC,EAAmB,EAAnBA,aACvB,OACE,kDACoB,2BAAOD,MAAOA,EAAOE,SAAUD,MCKxCE,EARM,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,QAC7B,OACE,uBAAGC,MAAO,CAAEC,QAAS,GAAIC,gBAAiB,OAAQC,OAAO,aAAD,OAAeL,GAASA,UAC7EC,ICmBQK,EAtBI,SAAC,GAMb,IALLC,EAKI,EALJA,KACAC,EAII,EAJJA,iBACAC,EAGI,EAHJA,MACAC,EAEI,EAFJA,kBACAC,EACI,EADJA,aAEA,OACE,0BAAMC,SAAUD,GACd,sCACQ,2BAAOf,MAAOW,EAAMT,SAAUU,KAEtC,wCACU,2BAAOZ,MAAOa,EAAOX,SAAUY,KAEzC,6BACE,4BAAQG,KAAK,UAAb,UCEOC,EAlBC,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,QAASC,EAAiB,EAAjBA,WAM1B,OACE,6BACGD,EAAQE,KAAI,gBAAGC,EAAH,EAAGA,GAAIX,EAAP,EAAOA,KAAMY,EAAb,EAAaA,OAAb,OACX,uBAAGC,IAAKF,GACLX,EADH,IACUY,EAAQ,IAChB,4BAAQE,QAAS,kBAVJ,SAACH,EAAIX,GACpBe,OAAOC,QAAP,iBAAyBhB,EAAzB,OACFS,EAAWE,GAQgBM,CAAaN,EAAIX,KAAxC,gB,gBCXJkB,EAAU,eAcD,EAbA,WACb,OAAOC,IAAMC,IAAIF,IAYJ,EATA,SAACG,GACd,OAAOF,IAAMG,KAAKJ,EAASG,IAQd,EANA,SAACV,GACd,OAAOQ,IAAMI,OAAN,UAAgBL,EAAhB,YAA2BP,KAKrB,EAHA,SAACA,EAAIa,GAClB,OAAOL,IAAMM,IAAN,UAAaP,EAAb,YAAwBP,GAAMa,IC2ExBE,EAjFH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTnB,EADS,KACAoB,EADA,OAEcD,mBAAS,IAFvB,mBAETE,EAFS,KAEAC,EAFA,OAGgBH,mBAAS,IAHzB,mBAGTI,EAHS,KAGCC,EAHD,OAIYL,mBAAS,IAJrB,mBAITM,EAJS,KAIDC,EAJC,OAKwBP,mBAAS,MALjC,mBAKTQ,EALS,KAKKC,EALL,KAOhBC,IAAMC,WAAU,WACdC,IAAmBC,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OAAcb,EAAWa,QAChD,IAEH,IA+CMC,EAAgBT,EAClBzB,EAAQyB,QAAO,SAACU,GAAD,OAAYA,EAAO3C,KAAK4C,cAAcC,SAASZ,EAAOW,kBACrEpC,EAEJ,OACE,6BACE,yCACC2B,GAAgB,kBAAC,EAAiBA,GACnC,kBAAC,EAAD,CAAQ9C,MAAO4C,EAAQ3C,aAAc,SAACwD,GAAD,OAAOZ,EAAUY,EAAEC,OAAO1D,UAC/D,0CACA,kBAAC,EAAD,CACEW,KAAM6B,EACN5B,iBA3DmB,SAAC6C,GACxBhB,EAAWgB,EAAEC,OAAO1D,QA2DhBa,MAAO6B,EACP5B,kBA1DoB,SAAC2C,GACzBd,EAAYc,EAAEC,OAAO1D,QA0DjBe,aAvDe,SAAC0C,GACpBA,EAAEE,iBACF,IAAMC,EAAiBzC,EAAQ0C,MAAK,SAACP,GAAD,OAAYA,EAAO3C,OAAS6B,KAE1DR,EAAY,CAAErB,KAAM6B,EAASjB,OAAQmB,GACvCkB,EAEAlC,OAAOC,QAAP,UACKa,EADL,gFAIAU,EACUU,EAAetC,GAAIU,GAC1BmB,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACPb,GAAW,SAACpB,GAAD,OAAaA,EAAQE,KAAI,SAACyC,GAAD,OAAQA,EAAEnD,OAAS6B,EAAUY,EAAOU,QACxEf,EAAgB,CAAE3C,MAAO,QAASC,QAAQ,WAAD,OAAa+C,EAAKzC,QAC3D8B,EAAW,IACXE,EAAY,OAEboB,OAAM,SAACC,GAAD,OACLjB,EAAgB,CACd3C,MAAO,MACPC,QAAQ,kBAAD,OAAoB2B,EAAUrB,KAA9B,kDAKfuC,EAAiBlB,GAAWmB,MAAK,YAAe,IAAZC,EAAW,EAAXA,KAClCb,EAAWpB,EAAQ8C,OAAOb,IAC1BL,EAAgB,CAAE3C,MAAO,QAASC,QAAQ,SAAD,OAAW+C,EAAKzC,QACzD8B,EAAW,IACXE,EAAY,UA0Bd,uCACA,kBAAC,EAAD,CAASxB,QAASkC,EAAejC,WAtBlB,SAACE,GAClB4B,EAAiB5B,GAAI6B,MAAK,kBAAMZ,GAAW,SAACpB,GAAD,OAAaA,EAAQyB,QAAO,SAACkB,GAAD,OAAOA,EAAExC,KAAOA,gBC1D3F4C,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.2c41141b.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ value, handleChange }) => {\n  return (\n    <div>\n      filter shown with <input value={value} onChange={handleChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Notification = ({ color, message }) => {\n  return (\n    <p style={{ padding: 10, backgroundColor: \"#ccc\", border: `2px solid ${color}`, color }}>\n      {message}\n    </p>\n  );\n};\n\nexport default Notification;\n","import React from \"react\";\n\nconst PersonForm = ({\n  name,\n  handleNameChange,\n  phone,\n  handlePhoneChange,\n  handleSubmit,\n}) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        name: <input value={name} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={phone} onChange={handlePhoneChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Persons = ({ persons, deleteUser }) => {\n  const handleDelete = (id, name) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      deleteUser(id);\n    }\n  };\n  return (\n    <div>\n      {persons.map(({ id, name, number }) => (\n        <p key={id}>\n          {name} {number}{\" \"}\n          <button onClick={() => handleDelete(id, name)}>Delete</button>\n        </p>\n      ))}\n    </div>\n  );\n};\n\nexport default Persons;\n","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\nconst getAll = () => {\n  return axios.get(baseUrl);\n};\n\nconst create = (newPerson) => {\n  return axios.post(baseUrl, newPerson);\n};\nconst remove = (id) => {\n  return axios.delete(`${baseUrl}/${id}`);\n};\nconst update = (id, updatePerson) => {\n  return axios.put(`${baseUrl}/${id}`, updatePerson);\n};\nexport default {\n  getAll,\n  create,\n  remove,\n  update,\n};\n","import React, { useState } from \"react\";\n\nimport Filter from \"./components/Filter\";\nimport Notification from \"./components/Notification\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport phonebook from \"./services/phonebook\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newPhone, setNewPhone] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [notification, setNotification] = useState(null);\n\n  React.useEffect(() => {\n    phonebook.getAll().then(({ data }) => setPersons(data));\n  }, []);\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value);\n  };\n  const handlePhoneChange = (e) => {\n    setNewPhone(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const isAlreadyExist = persons.find((person) => person.name === newName);\n\n    const newPerson = { name: newName, number: newPhone };\n    if (isAlreadyExist) {\n      if (\n        window.confirm(\n          `${newName} is already added to the phonebook, replace the old number with a new one?`\n        )\n      ) {\n        phonebook\n          .update(isAlreadyExist.id, newPerson)\n          .then(({ data }) => {\n            setPersons((persons) => persons.map((p) => (p.name === newName ? data : p)));\n            setNotification({ color: \"green\", message: `Updated ${data.name}` });\n            setNewName(\"\");\n            setNewPhone(\"\");\n          })\n          .catch((err) =>\n            setNotification({\n              color: \"red\",\n              message: `Information of ${newPerson.name} has already been removed from the server`,\n            })\n          );\n      }\n    } else {\n      phonebook.create(newPerson).then(({ data }) => {\n        setPersons(persons.concat(data));\n        setNotification({ color: \"green\", message: `Added ${data.name}` });\n        setNewName(\"\");\n        setNewPhone(\"\");\n      });\n    }\n  };\n\n  const deleteUser = (id) => {\n    phonebook.remove(id).then(() => setPersons((persons) => persons.filter((p) => p.id !== id)));\n  };\n\n  const personsToShow = filter\n    ? persons.filter((person) => person.name.toLowerCase().includes(filter.toLowerCase()))\n    : persons;\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {notification && <Notification {...notification} />}\n      <Filter value={filter} handleChange={(e) => setFilter(e.target.value)} />\n      <h2>Add a new </h2>\n      <PersonForm\n        name={newName}\n        handleNameChange={handleNameChange}\n        phone={newPhone}\n        handlePhoneChange={handlePhoneChange}\n        handleSubmit={handleSubmit}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={personsToShow} deleteUser={deleteUser} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}